<!DOCTYPE html>
<html>
<head>
    <title>CORS Test</title>
</head>
<body>
    <h2>CORS Test</h2>
    <div id="result"></div>

    <script>
        // Test regular GET request
        fetch('http://localhost:8000/api/team-stats?team_id=1')
            .then(response => response.json())
            .then(data => {
                document.getElementById('result').innerHTML += '<p style="color: green">✓ GET request successful</p>';
                console.log('GET response:', data);
            })
            .catch(error => {
                document.getElementById('result').innerHTML += '<p style="color: red">✗ GET request failed: ' + error.message + '</p>';
                console.error('GET error:', error);
            });

        // Test request with headers
        fetch('http://localhost:8000/api/team-stats?team_id=1', {
            headers: {
                'X-API-Key': 'test-key',
                'Content-Type': 'application/json'
            }
        })
            .then(response => response.json())
            .then(data => {
                document.getElementById('result').innerHTML += '<p style="color: green">✓ Request with headers successful</p>';
                console.log('Headers response:', data);
            })
            .catch(error => {
                document.getElementById('result').innerHTML += '<p style="color: red">✗ Request with headers failed: ' + error.message + '</p>';
                console.error('Headers error:', error);
            });

        // Test OPTIONS preflight
        fetch('http://localhost:8000/api/team-stats', {
            method: 'OPTIONS',
            headers: {
                'Origin': 'http://localhost:3000'
            }
        })
            .then(response => {
                document.getElementById('result').innerHTML += '<p style="color: green">✓ OPTIONS preflight successful</p>';
                console.log('OPTIONS headers:', response.headers);
            })
            .catch(error => {
                document.getElementById('result').innerHTML += '<p style="color: red">✗ OPTIONS preflight failed: ' + error.message + '</p>';
                console.error('OPTIONS error:', error);
            });
    </script>
</body>
</html> 